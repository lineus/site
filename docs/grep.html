<!DOCTYPE html><html><head><title>lineus.dev</title><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/style/index.css"></head><body><div id="header"><div id="logo"><a id="name" href="/">lineus</a></div><div id="nav"><a class="navlink" id="whoami" href="/whoami.html" title="about">About</a><a class="navlink" id="ls" href="/ls.html" title="list articles">Articles</a><a class="navlink" id="projects" href="/projects.html" title="projects">Projects</a><a class="navlink" id="grep" href="/grep.html" title="search Articles">Search</a></div></div><div id="search"><div id="query" contentEditable="true"></div></div><div id="results"><ul id="searchResults"></ul></div><script>const jsonString = '[{"path":"./posts/Johnny_5_is_Alive.html","level":[{"name":"fileName/Tags","tokens":["Johnny","5","is","Alive"]},{"name":"header1","tokens":["some","things","are","better","left","to","professionals."]},{"name":"header2","tokens":[]},{"name":"header3-6","tokens":[]},{"name":"links","tokens":[]}]},{"path":"./posts/The_Sixth_Wonder_of_the_World.html","level":[{"name":"fileName/Tags","tokens":["The","Sixth","Wonder","of","the","World"]},{"name":"header1","tokens":["the","sixth","wonder"]},{"name":"header2","tokens":[]},{"name":"header3-6","tokens":[]},{"name":"links","tokens":[]}]},{"path":"./posts/Third_Times_The_Charm.html","level":[{"name":"fileName/Tags","tokens":["Third","Times","The","Charm"]},{"name":"header1","tokens":["my","third","post"]},{"name":"header2","tokens":[]},{"name":"header3-6","tokens":[]},{"name":"links","tokens":["easy","staples"]}]},{"path":"./posts/This_is_Test_2.html","level":[{"name":"fileName/Tags","tokens":["This","is","Test","2"]},{"name":"header1","tokens":["test"]},{"name":"header2","tokens":[]},{"name":"header3-6","tokens":[]},{"name":"links","tokens":[]}]},{"path":"./posts/fourth_awesome_post.html","level":[{"name":"fileName/Tags","tokens":["fourth","awesome","post"]},{"name":"header1","tokens":["this","is","my","post"]},{"name":"header2","tokens":["this","is","for","fun"]},{"name":"header3-6","tokens":[]},{"name":"links","tokens":[]}]},{"path":"./posts/test.html","level":[{"name":"fileName/Tags","tokens":["test","dogs","wonder"]},{"name":"header1","tokens":["my","first","test","post"]},{"name":"header2","tokens":["will","it","work?"]},{"name":"header3-6","tokens":["who","knows?"]},{"name":"links","tokens":[]}]}]';
const searchData = JSON.parse(jsonString);
const q = document.querySelector('#query');
const list = document.querySelector('#searchResults');
let query = '';
const results = new Erray([], updateList);

function updateList(a) {
  while (list.firstChild) {
    list.removeChild(list.firstChild);
  }
  a.map(text => {
    let el = document.createElement('li');
    el.innerHTML = `<a>${text}</a>`;
    list.appendChild(el);
  })
}

function Erray() {
  this.handler = null;
  this.stack = null;
  for (let arg of arguments) {
    if (typeof arg === 'function') {
      this.handler = arg;
    } else if (typeof arg === 'object' && Array.isArray(arg)) {
      this.stack = arg;
    }
  }

  this.length = this.stack.length;
  
  let overloaded = [
    'push',
    'shift',
    'sort',
    'pop',
    'reverse'
  ]
  
  for (let ol of overloaded) {
    this[ol] = function(e) {
      Array.prototype[ol].call(this.stack, e);
      this.stack = this.stack.filter((e, i, a) => {
        let higherIndex = a.indexOf(e, i + 1);
        if(higherIndex === -1) {
          return true;
        }
        return false;
      });
      this.length = this.stack.length;
      this.handler(this.stack);
    }
  }
  
  return this;
}

const search = debounce(searchFn, 250);
q.addEventListener('keyup', handler);

function handler(event) {
  if (query !== q.innerText) {
    query = q.innerText;
  }

  search(query);
}

function searchFn(q) {
  const query = q.trim();
  while(results.length > 0) {
    results.shift();
  }
  if (!/^[\W\s\w]+$/.test(query) || query === '') {
    return;
  }

  let i = 4;
  while (i >= 0) {
    for (let fileData of searchData) {
      let a = fileData.level[i].tokens;
      let re = new RegExp(query, 'i');
      let index = a.findIndex((e) => {
        return re.test(e);
      });
      if (index > -1) {
        let dName = fileData.path.replace('./posts/', '').replace('.html', '');
        results.push(`<li><a class="searchLink" href="${fileData.path}">${dName}</a></li>`);
      }
    }
    i--;
  }
}

function debounce(func, wait, immediate) {
  var timeout;
  return function() {
    var context = this, args = arguments;
    var later = function() {
      timeout = null;
      if (!immediate) func.apply(context, args);
    };
    var callNow = immediate && !timeout;
    clearTimeout(timeout);
    timeout = setTimeout(later, wait);
    if (callNow) func.apply(context, args);
  };
};</script><div id="footer"><span id="footer"><style>.bmc-button img {
  width: 27px !important;
  margin-bottom: 1px !important;
  box-shadow: none !important;
  border: none !important;
  vertical-align: middle !important;
}
.bmc-button {
  display: inline-block;
  line-height: 36px !important;
  height:37px !important;
  text-decoration: none !important;
  display:inline-flex !important;
  color:#ffffff !important;
  background-color:#212321 !important;
  border-radius: 3px !important;
  border: 1px solid transparent !important;
  padding: 1px 9px !important;
  font-size: 22px !important;
  letter-spacing: 0.6px !important;
  box-shadow: 0px 1px 2px rgba(190, 190, 190, 0.5) !important;
  -webkit-box-shadow: 0px 1px 2px 2px rgba(190, 190, 190, 0.5) !important;
  font-family:'Cookie', cursive !important;
  -webkit-box-sizing: border-box !important;
  box-sizing: border-box !important;
  -o-transition: 0.3s all linear !important;
  -webkit-transition: 0.3s all linear !important;
  -moz-transition: 0.3s all linear !important;
  -ms-transition: 0.3s all linear !important;
  transition: 0.3s all linear !important;
}
.bmc-button:hover, .bmc-button:active, .bmc-button:focus {
  -webkit-box-shadow: 0px 1px 2px 2px rgba(190, 190, 190, 0.5) !important;
  text-decoration: none !important;
  box-shadow: 0px 1px 2px 2px rgba(190, 190, 190, 0.5) !important;
  opacity: 0.85 !important;
  color:#ffffff !important;
}
</style><link href="https://fonts.googleapis.com/css?family=Cookie" rel="stylesheet"><a class="bmc-button" target="_blank" href="https://www.buymeacoffee.com/dKDB8Y9Vz"><img src="https://bmc-cdn.nyc3.digitaloceanspaces.com/BMC-button-images/BMC-btn-logo.svg" alt="Buy me a coffee"><span style="margin-left:5px">Buy me a coffee</span></a></span></div></body></html>